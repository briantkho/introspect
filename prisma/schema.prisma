
datasource db {
  provider = "sqlite"
  url      = "file:./nextUp.db"
}

generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native"]
}

model User {
  uid        String @id @default(cuid())
  first_name String
  last_name  String
  user_name  String @unique
  email      String @unique
  password   String
  habits     Habit[]
  journals   Journal[]
}

model Habit {
  habit_id           String @id @default(cuid())
  uid                String
  name               String
  frequency_per_week Float
  description        String?
  start_date         DateTime
  end_date           DateTime?
  status             Int
  user               User @relation(fields: [uid], references: [uid])
  reminders          Reminder[]
  habit_reflection   HabitReflection[]
  task               Task[]
}

model Reminder {
  reminder_id     String @id @default(cuid())
  habit_id        String
  reminder_time   DateTime
  alert_time_mins Int
  habit           Habit @relation(fields: [habit_id], references: [habit_id])
} 

model HabitReflection {
  hr_id            String @id @default(cuid())
  habit_id         String
  description      String
  habit            Habit @relation(fields: [habit_id], references: [habit_id])
}

model Journal {
  jid              String @id @default(cuid())
  uid              String
  title            String
  description      String
  date             DateTime
  user             User @relation(fields: [uid], references: [uid])
}

model Task {
  task_id       String @id @default(cuid())
  habit_id      String
  title         String
  description   String?
  checked       Boolean
  date          DateTime?
  habit         Habit @relation(fields: [habit_id], references: [habit_id])
}


